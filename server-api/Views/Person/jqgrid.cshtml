@section Links{
<link rel="stylesheet" href="~/lib/jqgrid/css/ui.jqgrid-bootstrap.css" />
<link rel="stylesheet" href="~/lib/jqgrid/css/ui.jqgrid.css" />

}
<div class="bg-primary m-1 p-1 text-white text-center">
    <h4>Person</h4>
</div>
<table id="jqGrid"></table>
<div id="jqGridPager"></div>

@section Scripts{
<script type="text/ecmascript" src="~/lib/jqgrid/js/i18n/grid.locale-ru.min.js"></script>
<script type="text/ecmascript" src="~/lib/jqgrid/js/jquery.jqGrid.min.js"></script>
<script>
    //$.jgrid.defaults.width = 780;
    $.jgrid.defaults.responsive = true;
    $.jgrid.defaults.styleUI = 'Bootstrap';
</script>

<script type="text/javascript">

    $(document).ready(function () {
        $("#jqGrid").jqGrid({
            url:"/server-api/persons",
            mtype: "POST",
            datatype: "json",
            colModel: [

                {
                    label: 'Id',
                    name: 'id',
                    width: 75
                },
                {
                    label: 'First Name',
                    name: 'firstName',
                    width: 140,
                    editable: true // must set editable to true if you want to make the field editable
                },
                {
                    label: 'Second Name',
                    name: 'secondName',
                    width: 140,
                    editable: true // must set editable to true if you want to make the field editable
                },
                {
                    label: 'Last Name',
                    name: 'lastName',
                    width: 100,
                    editable: true
                },
            ],
            sortname: 'id',
            loadonce: true,
            width: 780,
            height: 200,
            rowNum: 150,
            pager: "#jqGridPager"
        });
        /*
        fetchGridData();
        function fetchGridData() {

            var gridArrayData = [];
            // show loading message
            $("#jqGrid")[0].grid.beginReq();
            $.ajax({
                url: "/server-api/persons",
                method: "POST",
                success: function (result) {
                    console.log(result);
                    for (var i = 0; i < result.length; i++) {
                        var item = result[i];
                        gridArrayData.push(item);
                    };
                    console.log(gridArrayData);

                    // set the new data
                    $("#jqGrid").jqGrid('setGridParam', { data: gridArrayData });
                    // hide the show message
                    $("#jqGrid")[0].grid.endReq();
                    // refresh the grid
                    $("#jqGrid").trigger('reloadGrid');
                }
            });
        }*/

    });

</script>
}